apply plugin: 'java'

project.ext.tags = ['violation', 'static code analysis', 'Checkstyle', 'CPPLint', 'CPPCheck', 'CSSLint', 'Findbugs', 'Flake8', 'PyLint', 'Pep8', 'Mccabe', 'PyFlakes', 'JSHint', 'Lint', 'PerlCritic', 'PMD', 'ReSharper', 'XMLLint']
group = 'se.bjurr.violations'
description = 'Library for parsing report files from static code analysis'
project.ext.useShadowJar = true


buildscript {
 repositories {
  maven { url "https://jitpack.io" }
 }
 dependencies {
  classpath 'com.github.tomasbjerre:gradle-scripts:master-SNAPSHOT'
 }
}
apply from: project.buildscript.classLoader.getResource('java.gradle').toURI()
apply from: project.buildscript.classLoader.getResource('changelog.gradle').toURI()
apply from: project.buildscript.classLoader.getResource('release.gradle').toURI()


dependencies {
 compile 'com.google.code.gson:gson:2.8.2'
 compile 'io.github.java-diff-utils:java-diff-utils:4.7'
 compileOnly 'com.github.spotbugs:spotbugs-annotations:3.1.12'
 testCompile 'junit:junit:4.12'
 testCompile 'org.assertj:assertj-core:2.3.0'
 testCompile 'uk.co.jemos.podam:podam:7.2.1.RELEASE'
}

shadowJar {
 relocate 'io.github',      safeJavaIdentidier(project.group + '.' + project.name + '.io.github')
 relocate 'com.google',      safeJavaIdentidier(project.group + '.' + project.name + '.com.google')
 relocate 'com.jakewharton', safeJavaIdentidier(project.group + '.' + project.name + '.com.jakewharton')
}
